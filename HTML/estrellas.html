<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Star Rating</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../CSS/estrellas.css" />
</head>
<body>
    <div class="card">
        <h1>JavaScript Star Rating</h1>
        <br />
        <span onclick="gfg(1)" class="star">★</span>
        <span onclick="gfg(2)" class="star">★</span>
        <span onclick="gfg(3)" class="star">★</span>
        <span onclick="gfg(4)" class="star">★</span>
        <span onclick="gfg(5)" class="star">★</span>
        <h3 id="output">Rating is: 0/5</h3>
    </div>

    <!-- BOTÓN SALIR -->
    <button class="btn-salir-cerrar" onclick="salir()">✕</button>

    <style>
        .btn-salir-cerrar {
            position: fixed;
            top: 15px;
            right: 15px;
            width: 50px;
            height: 50px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 30px;
            font-weight: bold;
            cursor: pointer;
            z-index: 99999;
            box-shadow: 0 4px 15px rgba(0,0,0,0.4);
            transition: 0.3s;
        }
        .btn-salir-cerrar:hover {
            background: #c0392b;
            transform: scale(1.15);
        }
    </style>

    <script>
        let ratingEnviado = false;

        function gfg(rating) {
            if (ratingEnviado) return; // Evita enviar más de una vez

            // Cambia el color de las estrellas hasta la seleccionada
            document.querySelectorAll('.star').forEach((star, index) => {
                if (index < rating) {
                    star.style.color = "#ffd700";
                } else {
                    star.style.color = "#ccc";
                }
            });

            // Muestra la calificación
            document.getElementById('output').innerHTML = `¡Calificación: ${rating}/5`;

            // Evita que haga clic otra vez
            ratingEnviado = true;

            // Mensaje de agradecimiento
            setTimeout(() => {
                alert("¡Gracias por tu calificación!");
                
                // Después del mensaje, vuelve a testimonios
                window.location.href = "testimonio.html";
            }, 600);
        }

        function salir() {
            if (confirm("¿Querés salir de esta página?")) {
                window.location.href = "testimonio.html";
            }
        }
    </script>
</body>
</html>